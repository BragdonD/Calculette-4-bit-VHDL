library ieee;
use ieee.std_logic_1164.all;

entity add4bits is
port ( A, B : in std_logic_vector(3 downto 0);
		 mode : in std_logic;	--mode signé --0 pour non/1 pour oui
		 Res : out std_logic_vector(3 downto 0);
		 Cout : out std_logic);
end entity;

architecture archi_add4bits of add4bits is
	signal SignedRes: signed(3 downto 0);
	signal UnSignedRes : unsigned(3 downto 0);
	signal ResTemp : std_logic_vector(4 downto 0);
begin
	UnSignedRes <= signed(A) + signed(B);
	SignedRes <= signed(A) + signed(B); 
	
	--operation en fonction du mode signé
	with mode select
		when '0' => ResTemp <= std_logic_vector(UnsignedRes);
		when '1' => ResTemp <= std_logic_vector(SignedRes);
		when others => ResTemp <= "00000";
	
	Res <= ResTemp(3 downto 0);
	Cout <= ResTemp(4);
end archi_add4bits;
		
	
		
	
			
			
			
		
	
	